<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>3 Cartography and Visualisation | GEOG0030: Geocomputation</title>
  <meta name="description" content="3 Cartography and Visualisation | GEOG0030: Geocomputation handbook." />
  <meta name="generator" content="bookdown 0.30 and GitBook 2.6.7" />

  <meta property="og:title" content="3 Cartography and Visualisation | GEOG0030: Geocomputation" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="3 Cartography and Visualisation | GEOG0030: Geocomputation handbook." />
  <meta name="github-repo" content="jtvandijk/GEOG0030" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="3 Cartography and Visualisation | GEOG0030: Geocomputation" />
  
  <meta name="twitter:description" content="3 Cartography and Visualisation | GEOG0030: Geocomputation handbook." />
  

<meta name="author" content="Justin van Dijk" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="giscience-and-gis-software.html"/>
<link rel="next" href="programming-for-data-analysis.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<link href="libs/vembedr-0.1.5/css/vembedr.css" rel="stylesheet" />
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="assets/custom.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="toc-logo">
<a href="https://www.ucl.ac.uk/module-catalogue/modules/geocomputation-GEOG0030"><img src="images/general/ucl_logo.png">
</a></li>

<li class="divider"></li>
<li class="part"><span><b>Module Overview</b></span></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Module Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#welcome"><i class="fa fa-check"></i>Welcome</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#moodle"><i class="fa fa-check"></i>Moodle</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#module-overview"><i class="fa fa-check"></i>Module overview</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#troubleshooting"><i class="fa fa-check"></i>Troubleshooting</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a></li>
</ul></li>
<li class="part"><span><b>Foundational Concepts</b></span></li>
<li class="chapter" data-level="1" data-path="geocomputation-an-introduction.html"><a href="geocomputation-an-introduction.html"><i class="fa fa-check"></i><b>1</b> Geocomputation: An Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="geocomputation-an-introduction.html"><a href="geocomputation-an-introduction.html#reading-w01"><i class="fa fa-check"></i><b>1.1</b> Reading list</a></li>
<li class="chapter" data-level="1.2" data-path="geocomputation-an-introduction.html"><a href="geocomputation-an-introduction.html#getting-started"><i class="fa fa-check"></i><b>1.2</b> Getting started</a></li>
<li class="chapter" data-level="1.3" data-path="geocomputation-an-introduction.html"><a href="geocomputation-an-introduction.html#software"><i class="fa fa-check"></i><b>1.3</b> Software</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="geocomputation-an-introduction.html"><a href="geocomputation-an-introduction.html#qgis-installation"><i class="fa fa-check"></i><b>1.3.1</b> QGIS Installation</a></li>
<li class="chapter" data-level="1.3.2" data-path="geocomputation-an-introduction.html"><a href="geocomputation-an-introduction.html#r-and-rstudio-installation"><i class="fa fa-check"></i><b>1.3.2</b> R and RStudio Installation</a></li>
<li class="chapter" data-level="1.3.3" data-path="geocomputation-an-introduction.html"><a href="geocomputation-an-introduction.html#ucl"><i class="fa fa-check"></i><b>1.3.3</b> UCL Desktop and RStudio Server</a></li>
<li class="chapter" data-level="1.3.4" data-path="geocomputation-an-introduction.html"><a href="geocomputation-an-introduction.html#r-package-installation"><i class="fa fa-check"></i><b>1.3.4</b> R package installation</a></li>
<li class="chapter" data-level="1.3.5" data-path="geocomputation-an-introduction.html"><a href="geocomputation-an-introduction.html#a-note-on-arcgis"><i class="fa fa-check"></i><b>1.3.5</b> A note on ArcGIS</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="geocomputation-an-introduction.html"><a href="geocomputation-an-introduction.html#byl-w01"><i class="fa fa-check"></i><b>1.4</b> Before you leave</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="giscience-and-gis-software.html"><a href="giscience-and-gis-software.html"><i class="fa fa-check"></i><b>2</b> GIScience and GIS software</a>
<ul>
<li class="chapter" data-level="2.1" data-path="giscience-and-gis-software.html"><a href="giscience-and-gis-software.html#reading-w02"><i class="fa fa-check"></i><b>2.1</b> Reading list</a></li>
<li class="chapter" data-level="2.2" data-path="giscience-and-gis-software.html"><a href="giscience-and-gis-software.html#simple-digitisation-of-spatial-features"><i class="fa fa-check"></i><b>2.2</b> Simple digitisation of spatial features</a></li>
<li class="chapter" data-level="2.3" data-path="giscience-and-gis-software.html"><a href="giscience-and-gis-software.html#population-change-in-london"><i class="fa fa-check"></i><b>2.3</b> Population change in London</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="giscience-and-gis-software.html"><a href="giscience-and-gis-software.html#w02-scene"><i class="fa fa-check"></i><b>2.3.1</b> Setting the scene</a></li>
<li class="chapter" data-level="2.3.2" data-path="giscience-and-gis-software.html"><a href="giscience-and-gis-software.html#w02-finding"><i class="fa fa-check"></i><b>2.3.2</b> Finding data</a></li>
<li class="chapter" data-level="2.3.3" data-path="giscience-and-gis-software.html"><a href="giscience-and-gis-software.html#w01-housekeeping"><i class="fa fa-check"></i><b>2.3.3</b> Housekeeping</a></li>
<li class="chapter" data-level="2.3.4" data-path="giscience-and-gis-software.html"><a href="giscience-and-gis-software.html#w02-downloading"><i class="fa fa-check"></i><b>2.3.4</b> Downloading data</a></li>
<li class="chapter" data-level="2.3.5" data-path="giscience-and-gis-software.html"><a href="giscience-and-gis-software.html#w02-cleaning"><i class="fa fa-check"></i><b>2.3.5</b> Cleaning data</a></li>
<li class="chapter" data-level="2.3.6" data-path="giscience-and-gis-software.html"><a href="giscience-and-gis-software.html#using-qgis-to-map-our-population-data"><i class="fa fa-check"></i><b>2.3.6</b> Using QGIS to map our population data</a></li>
<li class="chapter" data-level="2.3.7" data-path="giscience-and-gis-software.html"><a href="giscience-and-gis-software.html#exporting-map-for-visual-analysis"><i class="fa fa-check"></i><b>2.3.7</b> Exporting map for visual analysis</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="giscience-and-gis-software.html"><a href="giscience-and-gis-software.html#assignment-w02"><i class="fa fa-check"></i><b>2.4</b> Assignment</a></li>
<li class="chapter" data-level="2.5" data-path="giscience-and-gis-software.html"><a href="giscience-and-gis-software.html#byl-w02"><i class="fa fa-check"></i><b>2.5</b> Before you leave</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="cartography-and-visualisation.html"><a href="cartography-and-visualisation.html"><i class="fa fa-check"></i><b>3</b> Cartography and Visualisation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="cartography-and-visualisation.html"><a href="cartography-and-visualisation.html#reading-w03"><i class="fa fa-check"></i><b>3.1</b> Reading list</a></li>
<li class="chapter" data-level="3.2" data-path="cartography-and-visualisation.html"><a href="cartography-and-visualisation.html#crime-in-london-i"><i class="fa fa-check"></i><b>3.2</b> Crime in London I</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="cartography-and-visualisation.html"><a href="cartography-and-visualisation.html#w03-finding"><i class="fa fa-check"></i><b>3.2.1</b> Finding our datasets</a></li>
<li class="chapter" data-level="3.2.2" data-path="cartography-and-visualisation.html"><a href="cartography-and-visualisation.html#w03-downloading"><i class="fa fa-check"></i><b>3.2.2</b> Downloading data</a></li>
<li class="chapter" data-level="3.2.3" data-path="cartography-and-visualisation.html"><a href="cartography-and-visualisation.html#using-qgis-to-map-our-crime-data"><i class="fa fa-check"></i><b>3.2.3</b> Using QGIS to map our crime data</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="cartography-and-visualisation.html"><a href="cartography-and-visualisation.html#assignment-w03"><i class="fa fa-check"></i><b>3.3</b> Assignment</a></li>
<li class="chapter" data-level="3.4" data-path="cartography-and-visualisation.html"><a href="cartography-and-visualisation.html#byl-w03"><i class="fa fa-check"></i><b>3.4</b> Before you leave</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html"><i class="fa fa-check"></i><b>4</b> Programming for Data Analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#reading-w04"><i class="fa fa-check"></i><b>4.1</b> Reading list</a></li>
<li class="chapter" data-level="4.2" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#programming"><i class="fa fa-check"></i><b>4.2</b> Programming</a></li>
<li class="chapter" data-level="4.3" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#programming-in-r"><i class="fa fa-check"></i><b>4.3</b> Programming in R</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#the-rstudio-interface"><i class="fa fa-check"></i><b>4.3.1</b> The RStudio interface</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#rstudio-console"><i class="fa fa-check"></i><b>4.4</b> RStudio console</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#command-input"><i class="fa fa-check"></i><b>4.4.1</b> Command Input</a></li>
<li class="chapter" data-level="4.4.2" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#storing-variables"><i class="fa fa-check"></i><b>4.4.2</b> Storing variables</a></li>
<li class="chapter" data-level="4.4.3" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#accessing-and-returning-variables"><i class="fa fa-check"></i><b>4.4.3</b> Accessing and returning variables</a></li>
<li class="chapter" data-level="4.4.4" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#variables-of-different-data-types"><i class="fa fa-check"></i><b>4.4.4</b> Variables of different data types</a></li>
<li class="chapter" data-level="4.4.5" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#calling-functions-on-our-variables"><i class="fa fa-check"></i><b>4.4.5</b> Calling functions on our variables</a></li>
<li class="chapter" data-level="4.4.6" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#returning-functions"><i class="fa fa-check"></i><b>4.4.6</b> Returning functions</a></li>
<li class="chapter" data-level="4.4.7" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#examining-our-variables-using-functions"><i class="fa fa-check"></i><b>4.4.7</b> Examining our variables using functions</a></li>
<li class="chapter" data-level="4.4.8" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#creating-a-two-element-object"><i class="fa fa-check"></i><b>4.4.8</b> Creating a two-element object</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#simple-analysis"><i class="fa fa-check"></i><b>4.5</b> Simple analysis</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#housekeeping"><i class="fa fa-check"></i><b>4.5.1</b> Housekeeping</a></li>
<li class="chapter" data-level="4.5.2" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#atomic-vectors"><i class="fa fa-check"></i><b>4.5.2</b> Atomic vectors</a></li>
<li class="chapter" data-level="4.5.3" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#matrices"><i class="fa fa-check"></i><b>4.5.3</b> Matrices</a></li>
<li class="chapter" data-level="4.5.4" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#dataframes"><i class="fa fa-check"></i><b>4.5.4</b> Dataframes</a></li>
<li class="chapter" data-level="4.5.5" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#column-names"><i class="fa fa-check"></i><b>4.5.5</b> Column names</a></li>
<li class="chapter" data-level="4.5.6" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#adding-columns"><i class="fa fa-check"></i><b>4.5.6</b> Adding columns</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#crime-in-london-ii"><i class="fa fa-check"></i><b>4.6</b> Crime in London II</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#starting-a-project"><i class="fa fa-check"></i><b>4.6.1</b> Starting a project</a></li>
<li class="chapter" data-level="4.6.2" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#setting-up-a-script"><i class="fa fa-check"></i><b>4.6.2</b> Setting up a script</a></li>
<li class="chapter" data-level="4.6.3" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#running-a-script"><i class="fa fa-check"></i><b>4.6.3</b> Running a script</a></li>
<li class="chapter" data-level="4.6.4" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#crime-data-2"><i class="fa fa-check"></i><b>4.6.4</b> Crime data</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#assignment-w04"><i class="fa fa-check"></i><b>4.7</b> Assignment</a></li>
<li class="chapter" data-level="4.8" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#wm-w04"><i class="fa fa-check"></i><b>4.8</b> Want more? [Optional]</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#data-visualisation"><i class="fa fa-check"></i><b>4.8.1</b> Data visualisation</a></li>
<li class="chapter" data-level="4.8.2" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#reproducible-research"><i class="fa fa-check"></i><b>4.8.2</b> Reproducible research</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="programming-for-data-analysis.html"><a href="programming-for-data-analysis.html#byl-w04"><i class="fa fa-check"></i><b>4.9</b> Before you leave</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="programming-for-spatial-analysis.html"><a href="programming-for-spatial-analysis.html"><i class="fa fa-check"></i><b>5</b> Programming for Spatial Analysis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="programming-for-spatial-analysis.html"><a href="programming-for-spatial-analysis.html#reading-w05"><i class="fa fa-check"></i><b>5.1</b> Reading list</a></li>
<li class="chapter" data-level="5.2" data-path="programming-for-spatial-analysis.html"><a href="programming-for-spatial-analysis.html#crime-in-london-iii"><i class="fa fa-check"></i><b>5.2</b> Crime in London III</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="programming-for-spatial-analysis.html"><a href="programming-for-spatial-analysis.html#data-preparation"><i class="fa fa-check"></i><b>5.2.1</b> Data preparation</a></li>
<li class="chapter" data-level="5.2.2" data-path="programming-for-spatial-analysis.html"><a href="programming-for-spatial-analysis.html#spatial-analysis-set-up"><i class="fa fa-check"></i><b>5.2.2</b> Spatial analysis set up</a></li>
<li class="chapter" data-level="5.2.3" data-path="programming-for-spatial-analysis.html"><a href="programming-for-spatial-analysis.html#interacting-with-spatial-data"><i class="fa fa-check"></i><b>5.2.3</b> Interacting with spatial data</a></li>
<li class="chapter" data-level="5.2.4" data-path="programming-for-spatial-analysis.html"><a href="programming-for-spatial-analysis.html#getting-our-crime-data-in-shape"><i class="fa fa-check"></i><b>5.2.4</b> Getting our crime data in shape</a></li>
<li class="chapter" data-level="5.2.5" data-path="programming-for-spatial-analysis.html"><a href="programming-for-spatial-analysis.html#data-wrangling"><i class="fa fa-check"></i><b>5.2.5</b> Data wrangling</a></li>
<li class="chapter" data-level="5.2.6" data-path="programming-for-spatial-analysis.html"><a href="programming-for-spatial-analysis.html#improving-your-workflow"><i class="fa fa-check"></i><b>5.2.6</b> Improving your workflow</a></li>
<li class="chapter" data-level="5.2.7" data-path="programming-for-spatial-analysis.html"><a href="programming-for-spatial-analysis.html#aggregate-crime-by-ward"><i class="fa fa-check"></i><b>5.2.7</b> Aggregate crime by ward</a></li>
<li class="chapter" data-level="5.2.8" data-path="programming-for-spatial-analysis.html"><a href="programming-for-spatial-analysis.html#joining-crime-data-to-wards"><i class="fa fa-check"></i><b>5.2.8</b> Joining crime data to wards</a></li>
<li class="chapter" data-level="5.2.9" data-path="programming-for-spatial-analysis.html"><a href="programming-for-spatial-analysis.html#mapping-crime-data"><i class="fa fa-check"></i><b>5.2.9</b> Mapping crime data</a></li>
<li class="chapter" data-level="5.2.10" data-path="programming-for-spatial-analysis.html"><a href="programming-for-spatial-analysis.html#styling-crime-data"><i class="fa fa-check"></i><b>5.2.10</b> Styling crime data</a></li>
<li class="chapter" data-level="5.2.11" data-path="programming-for-spatial-analysis.html"><a href="programming-for-spatial-analysis.html#exporting-our-crime-data"><i class="fa fa-check"></i><b>5.2.11</b> Exporting our crime data</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="programming-for-spatial-analysis.html"><a href="programming-for-spatial-analysis.html#assignment-w05"><i class="fa fa-check"></i><b>5.3</b> Assignment</a></li>
<li class="chapter" data-level="5.4" data-path="programming-for-spatial-analysis.html"><a href="programming-for-spatial-analysis.html#byl-w05"><i class="fa fa-check"></i><b>5.4</b> Before you leave</a></li>
</ul></li>
<li class="part"><span><b>Core Spatial Analysis</b></span></li>
<li class="chapter" data-level="6" data-path="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html"><a href="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html"><i class="fa fa-check"></i><b>6</b> Analysing Spatial Patterns I: Geometric Operations and Spatial Queries</a>
<ul>
<li class="chapter" data-level="6.1" data-path="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html"><a href="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html#reading-w06"><i class="fa fa-check"></i><b>6.1</b> Reading list</a></li>
<li class="chapter" data-level="6.2" data-path="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html"><a href="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html#map-challenge"><i class="fa fa-check"></i><b>6.2</b> Map challenge</a></li>
<li class="chapter" data-level="6.3" data-path="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html"><a href="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html#bike-theft-w06"><i class="fa fa-check"></i><b>6.3</b> Bike theft in London</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html"><a href="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html#housekeeping-w06"><i class="fa fa-check"></i><b>6.3.1</b> Housekeeping</a></li>
<li class="chapter" data-level="6.3.2" data-path="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html"><a href="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html#loading-data-w06"><i class="fa fa-check"></i><b>6.3.2</b> Loading data</a></li>
<li class="chapter" data-level="6.3.3" data-path="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html"><a href="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html#data-preparation-w06"><i class="fa fa-check"></i><b>6.3.3</b> Data preparation</a></li>
<li class="chapter" data-level="6.3.4" data-path="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html"><a href="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html#spatial-operations-i"><i class="fa fa-check"></i><b>6.3.4</b> Spatial operations I</a></li>
<li class="chapter" data-level="6.3.5" data-path="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html"><a href="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html#spatial-operations-ii"><i class="fa fa-check"></i><b>6.3.5</b> Spatial operations II</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html"><a href="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html#assignment-w06"><i class="fa fa-check"></i><b>6.4</b> Assignment</a></li>
<li class="chapter" data-level="6.5" data-path="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html"><a href="analysing-spatial-patterns-i-geometric-operations-and-spatial-queries.html#byl-w06"><i class="fa fa-check"></i><b>6.5</b> Before you leave</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="analysing-spatial-patterns-ii-spatial-autocorrelation.html"><a href="analysing-spatial-patterns-ii-spatial-autocorrelation.html"><i class="fa fa-check"></i><b>7</b> Analysing Spatial Patterns II: Spatial Autocorrelation</a>
<ul>
<li class="chapter" data-level="7.1" data-path="analysing-spatial-patterns-ii-spatial-autocorrelation.html"><a href="analysing-spatial-patterns-ii-spatial-autocorrelation.html#reading-w07"><i class="fa fa-check"></i><b>7.1</b> Reading list</a></li>
<li class="chapter" data-level="7.2" data-path="analysing-spatial-patterns-ii-spatial-autocorrelation.html"><a href="analysing-spatial-patterns-ii-spatial-autocorrelation.html#childhood-obesity"><i class="fa fa-check"></i><b>7.2</b> Childhood obesity</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="analysing-spatial-patterns-ii-spatial-autocorrelation.html"><a href="analysing-spatial-patterns-ii-spatial-autocorrelation.html#housekeeping-w07"><i class="fa fa-check"></i><b>7.2.1</b> Housekeeping</a></li>
<li class="chapter" data-level="7.2.2" data-path="analysing-spatial-patterns-ii-spatial-autocorrelation.html"><a href="analysing-spatial-patterns-ii-spatial-autocorrelation.html#loading-data-w07"><i class="fa fa-check"></i><b>7.2.2</b> Loading data</a></li>
<li class="chapter" data-level="7.2.3" data-path="analysing-spatial-patterns-ii-spatial-autocorrelation.html"><a href="analysing-spatial-patterns-ii-spatial-autocorrelation.html#data-preparation-w07"><i class="fa fa-check"></i><b>7.2.3</b> Data preparation</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="analysing-spatial-patterns-ii-spatial-autocorrelation.html"><a href="analysing-spatial-patterns-ii-spatial-autocorrelation.html#statistical-distributions"><i class="fa fa-check"></i><b>7.3</b> Statistical distributions</a></li>
<li class="chapter" data-level="7.4" data-path="analysing-spatial-patterns-ii-spatial-autocorrelation.html"><a href="analysing-spatial-patterns-ii-spatial-autocorrelation.html#assignment-1-w07"><i class="fa fa-check"></i><b>7.4</b> Assignment 1</a></li>
<li class="chapter" data-level="7.5" data-path="analysing-spatial-patterns-ii-spatial-autocorrelation.html"><a href="analysing-spatial-patterns-ii-spatial-autocorrelation.html#spatial-distributions"><i class="fa fa-check"></i><b>7.5</b> Spatial distributions</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="analysing-spatial-patterns-ii-spatial-autocorrelation.html"><a href="analysing-spatial-patterns-ii-spatial-autocorrelation.html#spatial-lag"><i class="fa fa-check"></i><b>7.5.1</b> Spatial lag</a></li>
<li class="chapter" data-level="7.5.2" data-path="analysing-spatial-patterns-ii-spatial-autocorrelation.html"><a href="analysing-spatial-patterns-ii-spatial-autocorrelation.html#defining-neighbours"><i class="fa fa-check"></i><b>7.5.2</b> Defining neighbours</a></li>
<li class="chapter" data-level="7.5.3" data-path="analysing-spatial-patterns-ii-spatial-autocorrelation.html"><a href="analysing-spatial-patterns-ii-spatial-autocorrelation.html#spatial-weights-matrix"><i class="fa fa-check"></i><b>7.5.3</b> Spatial weights matrix</a></li>
<li class="chapter" data-level="7.5.4" data-path="analysing-spatial-patterns-ii-spatial-autocorrelation.html"><a href="analysing-spatial-patterns-ii-spatial-autocorrelation.html#global-morans-i"><i class="fa fa-check"></i><b>7.5.4</b> Global Moran’s I</a></li>
<li class="chapter" data-level="7.5.5" data-path="analysing-spatial-patterns-ii-spatial-autocorrelation.html"><a href="analysing-spatial-patterns-ii-spatial-autocorrelation.html#local-morans-i"><i class="fa fa-check"></i><b>7.5.5</b> Local Moran’s I</a></li>
<li class="chapter" data-level="7.5.6" data-path="analysing-spatial-patterns-ii-spatial-autocorrelation.html"><a href="analysing-spatial-patterns-ii-spatial-autocorrelation.html#getis-ord-gi"><i class="fa fa-check"></i><b>7.5.6</b> Getis-Ord-Gi*</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="analysing-spatial-patterns-ii-spatial-autocorrelation.html"><a href="analysing-spatial-patterns-ii-spatial-autocorrelation.html#assignment-2-w07"><i class="fa fa-check"></i><b>7.6</b> Assignment 2</a></li>
<li class="chapter" data-level="7.7" data-path="analysing-spatial-patterns-ii-spatial-autocorrelation.html"><a href="analysing-spatial-patterns-ii-spatial-autocorrelation.html#byl-w07"><i class="fa fa-check"></i><b>7.7</b> Before you leave</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html"><i class="fa fa-check"></i><b>8</b> Analysing Spatial Patterns III: Point Pattern Analysis</a>
<ul>
<li class="chapter" data-level="8.1" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html#reading-w08"><i class="fa fa-check"></i><b>8.1</b> Reading list</a></li>
<li class="chapter" data-level="8.2" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html#bike-theft-w08"><i class="fa fa-check"></i><b>8.2</b> Bike theft in London</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html#housekeeping-w08"><i class="fa fa-check"></i><b>8.2.1</b> Housekeeping</a></li>
<li class="chapter" data-level="8.2.2" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html#loading-data-w08"><i class="fa fa-check"></i><b>8.2.2</b> Loading data</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html#point-pattern-analysis"><i class="fa fa-check"></i><b>8.3</b> Point pattern analysis</a></li>
<li class="chapter" data-level="8.4" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html#density-based-techniques"><i class="fa fa-check"></i><b>8.4</b> Density-based techniques</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html#quadrat-analysis"><i class="fa fa-check"></i><b>8.4.1</b> Quadrat analysis</a></li>
<li class="chapter" data-level="8.4.2" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html#kernel-density-estimation"><i class="fa fa-check"></i><b>8.4.2</b> Kernel Density Estimation</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html#assignment-w08"><i class="fa fa-check"></i><b>8.5</b> Assignment</a></li>
<li class="chapter" data-level="8.6" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html#distance-based-methods"><i class="fa fa-check"></i><b>8.6</b> Distance-Based Methods</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html#average-nearest-neighbour"><i class="fa fa-check"></i><b>8.6.1</b> Average Nearest Neighbour</a></li>
<li class="chapter" data-level="8.6.2" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html#ripleys-k-function"><i class="fa fa-check"></i><b>8.6.2</b> Ripley’s K function</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html#wm-w08"><i class="fa fa-check"></i><b>8.7</b> Want more? [Optional]</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html#what-is-dbscan"><i class="fa fa-check"></i><b>8.7.1</b> What is DBSCAN?</a></li>
<li class="chapter" data-level="8.7.2" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html#conducting-a-dbscan-analysis"><i class="fa fa-check"></i><b>8.7.2</b> Conducting a DBSCAN analysis</a></li>
<li class="chapter" data-level="8.7.3" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html#working-with-the-dbscan-output"><i class="fa fa-check"></i><b>8.7.3</b> Working with the DBSCAN output</a></li>
<li class="chapter" data-level="8.7.4" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html#mapping-dbscan-clusters"><i class="fa fa-check"></i><b>8.7.4</b> Mapping DBSCAN clusters</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="analysing-spatial-patterns-iii-point-pattern-analysis.html"><a href="analysing-spatial-patterns-iii-point-pattern-analysis.html#byl-w08"><i class="fa fa-check"></i><b>8.8</b> Before you leave</a></li>
</ul></li>
<li class="part"><span><b>Advanced Spatial Analysis</b></span></li>
<li class="chapter" data-level="9" data-path="rasters-zonal-statistics-and-interpolation.html"><a href="rasters-zonal-statistics-and-interpolation.html"><i class="fa fa-check"></i><b>9</b> Rasters, Zonal Statistics and Interpolation</a>
<ul>
<li class="chapter" data-level="9.1" data-path="rasters-zonal-statistics-and-interpolation.html"><a href="rasters-zonal-statistics-and-interpolation.html#reading-w09"><i class="fa fa-check"></i><b>9.1</b> Reading list</a></li>
<li class="chapter" data-level="9.2" data-path="rasters-zonal-statistics-and-interpolation.html"><a href="rasters-zonal-statistics-and-interpolation.html#raster-data"><i class="fa fa-check"></i><b>9.2</b> Raster data</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="rasters-zonal-statistics-and-interpolation.html"><a href="rasters-zonal-statistics-and-interpolation.html#housekeeping-w09"><i class="fa fa-check"></i><b>9.2.1</b> Housekeeping</a></li>
<li class="chapter" data-level="9.2.2" data-path="rasters-zonal-statistics-and-interpolation.html"><a href="rasters-zonal-statistics-and-interpolation.html#downloading-data-w09"><i class="fa fa-check"></i><b>9.2.2</b> Downloading data</a></li>
<li class="chapter" data-level="9.2.3" data-path="rasters-zonal-statistics-and-interpolation.html"><a href="rasters-zonal-statistics-and-interpolation.html#raster-data-1"><i class="fa fa-check"></i><b>9.2.3</b> Raster data</a></li>
<li class="chapter" data-level="9.2.4" data-path="rasters-zonal-statistics-and-interpolation.html"><a href="rasters-zonal-statistics-and-interpolation.html#map-algebra"><i class="fa fa-check"></i><b>9.2.4</b> Map algebra</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="rasters-zonal-statistics-and-interpolation.html"><a href="rasters-zonal-statistics-and-interpolation.html#population-change-in-london-1"><i class="fa fa-check"></i><b>9.3</b> Population change in London</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="rasters-zonal-statistics-and-interpolation.html"><a href="rasters-zonal-statistics-and-interpolation.html#loading-data-w09-1"><i class="fa fa-check"></i><b>9.3.1</b> Loading data</a></li>
<li class="chapter" data-level="9.3.2" data-path="rasters-zonal-statistics-and-interpolation.html"><a href="rasters-zonal-statistics-and-interpolation.html#analysing-population-change"><i class="fa fa-check"></i><b>9.3.2</b> Analysing population change</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="rasters-zonal-statistics-and-interpolation.html"><a href="rasters-zonal-statistics-and-interpolation.html#assignment-w09-01"><i class="fa fa-check"></i><b>9.4</b> Assignment 1</a></li>
<li class="chapter" data-level="9.5" data-path="rasters-zonal-statistics-and-interpolation.html"><a href="rasters-zonal-statistics-and-interpolation.html#air-pollution-in-london"><i class="fa fa-check"></i><b>9.5</b> Air pollution in London</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="rasters-zonal-statistics-and-interpolation.html"><a href="rasters-zonal-statistics-and-interpolation.html#loading-data-w09-2"><i class="fa fa-check"></i><b>9.5.1</b> Loading data</a></li>
<li class="chapter" data-level="9.5.2" data-path="rasters-zonal-statistics-and-interpolation.html"><a href="rasters-zonal-statistics-and-interpolation.html#analysing-air-pollution"><i class="fa fa-check"></i><b>9.5.2</b> Analysing air pollution</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="rasters-zonal-statistics-and-interpolation.html"><a href="rasters-zonal-statistics-and-interpolation.html#assignment-w09-02"><i class="fa fa-check"></i><b>9.6</b> Assignment 2</a></li>
<li class="chapter" data-level="9.7" data-path="rasters-zonal-statistics-and-interpolation.html"><a href="rasters-zonal-statistics-and-interpolation.html#byl-w09"><i class="fa fa-check"></i><b>9.7</b> Before you leave</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="transport-network-analysis.html"><a href="transport-network-analysis.html"><i class="fa fa-check"></i><b>10</b> Transport Network Analysis</a>
<ul>
<li class="chapter" data-level="10.1" data-path="transport-network-analysis.html"><a href="transport-network-analysis.html#reading-w10"><i class="fa fa-check"></i><b>10.1</b> Reading list</a></li>
<li class="chapter" data-level="10.2" data-path="transport-network-analysis.html"><a href="transport-network-analysis.html#transport-network-analysis-1"><i class="fa fa-check"></i><b>10.2</b> Transport Network Analysis</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="transport-network-analysis.html"><a href="transport-network-analysis.html#accessibility-in-portsmouth"><i class="fa fa-check"></i><b>10.2.1</b> Accessibility in Portsmouth</a></li>
<li class="chapter" data-level="10.2.2" data-path="transport-network-analysis.html"><a href="transport-network-analysis.html#loading-data-w10"><i class="fa fa-check"></i><b>10.2.2</b> Acquiring network data</a></li>
<li class="chapter" data-level="10.2.3" data-path="transport-network-analysis.html"><a href="transport-network-analysis.html#measuring-accessibility"><i class="fa fa-check"></i><b>10.2.3</b> Measuring accessibility</a></li>
<li class="chapter" data-level="10.2.4" data-path="transport-network-analysis.html"><a href="transport-network-analysis.html#task-w10"><i class="fa fa-check"></i><b>10.2.4</b> Tutorial task</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="transport-network-analysis.html"><a href="transport-network-analysis.html#wm-w10"><i class="fa fa-check"></i><b>10.3</b> Want more? [Optional]</a></li>
<li class="chapter" data-level="10.4" data-path="transport-network-analysis.html"><a href="transport-network-analysis.html#byl-w10"><i class="fa fa-check"></i><b>10.4</b> Before you leave</a></li>
</ul></li>
<li class="part"><span><b>Additional Resources</b></span></li>
<li class="chapter" data-level="11" data-path="data-sources.html"><a href="data-sources.html"><i class="fa fa-check"></i><b>11</b> Data Sources</a>
<ul>
<li class="chapter" data-level="11.1" data-path="data-sources.html"><a href="data-sources.html#open-data"><i class="fa fa-check"></i><b>11.1</b> Open Data</a></li>
<li class="chapter" data-level="11.2" data-path="data-sources.html"><a href="data-sources.html#safeguarded-data"><i class="fa fa-check"></i><b>11.2</b> Safeguarded Data</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">GEOG0030: Geocomputation</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="cartography-and-visualisation" class="section level1 hasAnchor" number="3">
<h1><span class="header-section-number">3</span> Cartography and Visualisation<a href="cartography-and-visualisation.html#cartography-and-visualisation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>This week’s lecture has given you an in-depth introduction into how we can create a successful map, including understanding map projections, cartographic conventions and issues faced with the analysis of aggregated data at areal units. The practical component of the week puts some of these learnings into practice as we analyse crime rates within London at two different scales.</p>
<!-- ## Lecture slides {#slides-w03} -->
<!-- The slides for this week's lecture can be downloaded here: [[Link]](https://github.com/jtvandijk/GEOG0030/tree/master/data/ppt/w02_geo.pdf). -->
<div id="reading-w03" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">3.1</span> Reading list<a href="cartography-and-visualisation.html#reading-w03" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="essential-readings-2" class="section level4 unnumbered hasAnchor">
<h4>Essential readings<a href="cartography-and-visualisation.html#essential-readings-2" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>Longley, P. <em>et al.</em> 2015. Geographic Information Science &amp; Systems, <strong>Chapter 4</strong>: <em>Georeferencing</em>. <a href="https://ucl.rl.talis.com/link?url=https%3A%2F%2Fapp.knovel.com%2Fhotlink%2Ftoc%2Fid%3AkpGISSE001%2Fgeographic-information-science%3Fkpromoter%3Dmarc&amp;sig=e437927b963cc591dcb65491eccdd3869cc31aef80e1443cb2ba12d8f3bb031a">[Link]</a></li>
<li>Longley, P. <em>et al.</em> 2015. Geographic Information Science &amp; Systems, <strong>Chapter 11</strong>: <em>Cartography and Map Production</em>. <a href="https://ucl.rl.talis.com/link?url=https%3A%2F%2Fapp.knovel.com%2Fhotlink%2Ftoc%2Fid%3AkpGISSE001%2Fgeographic-information-science%3Fkpromoter%3Dmarc&amp;sig=e437927b963cc591dcb65491eccdd3869cc31aef80e1443cb2ba12d8f3bb031a">[Link]</a></li>
<li>Wong, D. 2009. Modifiable Areal Unit Problem. <em>International Encyclopedia of Human Geography</em> 169-174. <a href="https://doi.org/10.1016/B978-008044910-4.00475-2">[Link]</a></li>
</ul>
</div>
<div id="suggested-readings-2" class="section level4 unnumbered hasAnchor">
<h4>Suggested readings<a href="cartography-and-visualisation.html#suggested-readings-2" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>Longley, P. <em>et al.</em> 2015. Geographic Information Science &amp; systems, <strong>Chapter 12</strong>: <em>Geovisualization</em>. <a href="https://ucl.rl.talis.com/link?url=https%3A%2F%2Fapp.knovel.com%2Fhotlink%2Ftoc%2Fid%3AkpGISSE001%2Fgeographic-information-science%3Fkpromoter%3Dmarc&amp;sig=e437927b963cc591dcb65491eccdd3869cc31aef80e1443cb2ba12d8f3bb031a">[Link]</a></li>
<li>Usery, L. and Seong, J. 2001. All equal-area map projections are created equal, but some are more equal than others. <em>Cartography and Geographic Information Science</em> 28(3): 183-194. <a href="https://doi.org/10.1559/152304001782153053">[Link]</a></li>
</ul>
</div>
</div>
<div id="crime-in-london-i" class="section level2 hasAnchor" number="3.2">
<h2><span class="header-section-number">3.2</span> Crime in London I<a href="cartography-and-visualisation.html#crime-in-london-i" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Over the next few weeks, we will look to model driving factors behind crime across London from both a statistical and spatial perspective. As <a href="https://www.oxfordbibliographies.com/view/document/obo-9780195396607/obo-9780195396607-0123.xml">Reid <em>et al.</em> (2018)</a> argue:</p>
<blockquote>
<p>Spatial analysis can be employed in both an exploratory and well as a more confirmatory manner with the primary purpose of identifying how certain community or ecological factors (such as population characteristics or the built environment) influence the spatial patterns of crime.</p>
</blockquote>
<p>Against this background, we are actually going to answer a very simple question today: does our perception of crime (and its distribution) in London vary at different scales? Here we are looking to test whether we would make the <strong>ecological fallacy</strong> mistake of assuming patterns at the Ward level are the same at the Borough level by looking to directly account for the impact of the Modifiable Area Unit Problem within our results. To test this, we will use these two administrative geographies to aggregate crime data for London in 2020. Here we will be looking specifically at a specific type of crime: <em>Theft from a person</em>.</p>
<div id="w03-finding" class="section level3 hasAnchor" number="3.2.1">
<h3><span class="header-section-number">3.2.1</span> Finding our datasets<a href="cartography-and-visualisation.html#w03-finding" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As we saw last week, accessing data within the UK, and specifically for London, is relatively straight-forward - you simply need to know which data portal contains the dataset you want!</p>
<div class="note">
<p><strong>Note</strong><br/>
The datasets you will create in this practical will be used in other practicals, so make sure to follow every step and export your data into your <code>output</code> folder at the end. The practical will also introduce you to point-in-polygon counts. You will be using this type of analysis throughout this module, so it is incredibly important that you understand how they work – even as seemingly simple as they may be!</p>
</div>
<div id="crime-data" class="section level4 hasAnchor" number="3.2.1.1">
<h4><span class="header-section-number">3.2.1.1</span> Crime data<a href="cartography-and-visualisation.html#crime-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>For our crime data, we will use data directly from the <strong>Police Data Portal</strong>, which you can find at <a href="https://data.police.uk/" class="uri">https://data.police.uk/</a>. This Data Portal allows you to access and generate tabular data for crime recorded in the U.K. across different the different Police Forces since 2017.</p>
<p>In total, there are 45 territorial police forces (TPF) and 3 special police forces (SPF) of the United Kingdom. Each TPF covers a specific area in the UK (e.g. the “West Midlands Police Force”), whilst the SPFs are cross-jurisdiction and cover specific types of crime, such as the British Transport Police. Therefore, when we want to download data for a specific area, we need to know which Police Force covers our area interest.</p>
<p>When you look to download crime data for London, for example, there are <strong>two</strong> territorial police forces working within the city and its greater metropolitan area:</p>
<ol style="list-style-type: decimal">
<li><p><strong>The Metropolitan Police Force (The Met)</strong>, which covers nearly the entire London area, including Greater London</p></li>
<li><p><strong>The City of London (CoL) Police</strong>, which covers the City of London. The Met has no jurisdiction in the CoL.</p></li>
</ol>
<p>You therefore need to decide if you want to include an analysis of crime in the City of London or not - we will in our current study.</p>
</div>
<div id="population-data" class="section level4 hasAnchor" number="3.2.1.2">
<h4><span class="header-section-number">3.2.1.2</span> Population data<a href="cartography-and-visualisation.html#population-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We know that if we want to study a phenomena like crime and aggregate it to an areal unit, we will need to normalise this by our population. Luckily, we already sorted out our Ward population dataset last week (i.e. <code>ward_population_2019.shp</code>). In addition to our <strong>Ward</strong> level dataset, we also want to generate the same type of shapefile for our London <strong>Boroughs</strong>, i.e. a <code>borough_population_2019.shp</code>, utilising the same approach as last week, joining our population table data to our Borough shape data. To do this, we need to know where to get both our required datasets from - fortunately, you already have a Borough shapefile in your <code>raw/boundaries/2011</code> folder. Therefore, it is just a case of tracking down the same Mid-Year Estimates (MYE) for London Boroughs as we did for the Wards.</p>
<div class="note">
<p><strong>Note</strong> <br/>
Because the boundaries of the London Boroughs have not been changed since 1965, we can get away with using the 2011 <code>shapefile</code> instead of having to download a more up to date version.</p>
</div>
</div>
</div>
<div id="w03-downloading" class="section level3 hasAnchor" number="3.2.2">
<h3><span class="header-section-number">3.2.2</span> Downloading data<a href="cartography-and-visualisation.html#w03-downloading" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As outlined above, to get going with our analysis, we need to download both the <strong>population</strong> data for our Boroughs and the 2020 <strong>crime</strong> data for our two police forces in London.</p>
<p>Let us tackle the population data first.</p>
<div id="borough-population" class="section level4 hasAnchor" number="3.2.2.1">
<h4><span class="header-section-number">3.2.2.1</span> Borough population<a href="cartography-and-visualisation.html#borough-population" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Through a quick search, we can find our Borough population table data pretty much in the same place as our Ward data - however it is a separate spreadsheet to download.</p>
<ol style="list-style-type: decimal">
<li><p>Navigate to the data on the website of the Office for National Statistics: <a href="https://www.ons.gov.uk/peoplepopulationandcommunity/populationandmigration/populationestimates/datasets/populationestimatesforukenglandandwalesscotlandandnorthernireland">[Link]</a>.</p></li>
<li><p>Download the <strong>Mid-2019: April 2020 local authority district codes</strong> <code>.xls</code> file.</p></li>
<li><p>Open the dataset in your spreadsheet editing software and navigate to the <code>MYE2-Persons</code> tab. Now extract: <code>Code</code>, <code>Name</code>, <code>Geography</code> and <code>All ages</code> data for all London Boroughs.
You should have a total of <strong>33</strong> Boroughs.</p></li>
<li><p>Once you have your 33 Boroughs separated from the rest of the data, copy the columns (<code>Code</code>, <code>Name</code>, <code>Geography</code> and <code>All ages</code>) and respective data for each Borough into a new <code>csv</code>.</p></li>
<li><p>Remember to format the <strong>field names</strong>. Like last week, also remember to make sure that the <code>All ages</code> field is recognised as a <strong>numeric</strong> field. Save as a new <code>csv</code> in your <code>output</code> folder: <code>borough_population_2019.csv</code>.</p></li>
</ol>
</div>
<div id="ward-population" class="section level4 hasAnchor" number="3.2.2.2">
<h4><span class="header-section-number">3.2.2.2</span> Ward population<a href="cartography-and-visualisation.html#ward-population" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>As mentioned above, you should already have a <code>ward_population_2019.shp</code> file within your <code>output</code> data folder.</p>
</div>
<div id="crime-data-1" class="section level4 hasAnchor" number="3.2.2.3">
<h4><span class="header-section-number">3.2.2.3</span> Crime data<a href="cartography-and-visualisation.html#crime-data-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Normally, we would now head to the Police Data Portal and download our crime data. However, the manual processing that is required is too exhaustive to do manually - and far (far!) easier to do using programming. As such you can download a pre-filtered spreadsheet instead. Unzip the download and copy the <code>csv</code> into a <strong>new</strong> folder in your <code>raw</code> data folder called: <code>crime</code>.</p>
</div>
<div id="file-download" class="section level4 unnumbered hasAnchor">
<h4>File download<a href="cartography-and-visualisation.html#file-download" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<table>
<colgroup>
<col width="33%" />
<col width="33%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">File</th>
<th align="left">Type</th>
<th align="left">Link</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Theft from persons in 2020</td>
<td align="left"><code>csv</code></td>
<td align="left"><a href="https://github.com/jtvandijk/GEOG0030/tree/master/data/zip/crime_theft_2020_london.zip">Download</a></td>
</tr>
</tbody>
</table>
<div class="note">
<p><strong>Note</strong> <br/>
When mapping the data from the provided longitude and latitude coordinates, it is important to know that these locations represent the approximate location of a crime — not the exact place that it happened. This displacement occurs to preserve anonymity of the individuals involved. The process by how this displacement occurs is standardised. There is a list of anonymous map points to which the exact location of each crime is compared against this master list to find the nearest map point. The co-ordinates of the actual crime are then replaced with the co-ordinates of the map point. Each map point is specifically chosen to avoid associating that point with an exact household. Interestingly enough, the police also convert the data from their recorded BNG eastings and northings into WGS84 latitude and longitude.</p>
</div>
</div>
</div>
<div id="using-qgis-to-map-our-crime-data" class="section level3 hasAnchor" number="3.2.3">
<h3><span class="header-section-number">3.2.3</span> Using QGIS to map our crime data<a href="cartography-and-visualisation.html#using-qgis-to-map-our-crime-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="setting-up-a-project-1" class="section level4 hasAnchor" number="3.2.3.1">
<h4><span class="header-section-number">3.2.3.1</span> Setting up a project<a href="cartography-and-visualisation.html#setting-up-a-project-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ol style="list-style-type: decimal">
<li><p>Start <strong>QGIS</strong></p></li>
<li><p>Click on <strong>Project</strong> -&gt; <strong>New</strong>. Save your project as <code>w3-crime-analysis</code>. Remember to save your work throughout the practical.</p></li>
<li><p>Before we get started with adding data, we will first set the Coordinate Reference System of our Project. Click on <strong>Project</strong> -&gt; <strong>Properties – CRS</strong>. In the Filter box, type <strong>British National Grid</strong>. Select <strong>OSGB 1936 / British National Grid - EPSG:27700</strong> and click <strong>Apply</strong>. Click <strong>OK</strong>.</p></li>
</ol>
<p>Now we have our <strong>Project CRS</strong> set, we are ready to start loading and processing our data.</p>
</div>
<div id="adding-layers-1" class="section level4 hasAnchor" number="3.2.3.2">
<h4><span class="header-section-number">3.2.3.2</span> Adding layers<a href="cartography-and-visualisation.html#adding-layers-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ol style="list-style-type: decimal">
<li><p>Click on <strong>Layer</strong> -&gt; <strong>Add Layer</strong> -&gt; <strong>Add Vector Layer</strong>.</p></li>
<li><p>With <strong>File</strong> select as your source type, click on the small three dots button and navigate to your <code>ward_population_2019.shp</code> in your <code>output</code> folder. Click on the <code>.shp</code> file of this dataset and click <strong>Open</strong>. Then click <strong>Add</strong>. You may need to close the box after adding the layer.</p></li>
</ol>
<p>We now need to create our Borough population shapefile - and to do so, we need to repeat exactly the same process as last week in terms of joining our table data to our shapefile. You should now be able to do this, so we will not provide you with detailed instructions. Remember, you need to:</p>
<ul>
<li><p>Load the respective Borough dataset as a Vector Layer found in your <code>raw/boundaries/2011</code> data folder: <code>London_Borough_Excluding_MHW.shp</code>.</p></li>
<li><p>Load the respective population dataset that you just created as a <strong>Delimited Text File Layer</strong>. Remember the settings, including no geometry!</p></li>
<li><p>Join the two datasets together using the <strong>Join</strong> tool in the Borough dataset <strong>Properties</strong> box. Remember which fields to use, which to add, and to remove the prefix.</p></li>
<li><p>Export your joined dataset into a new dataset within your <code>output</code> folder: <code>borough_population_2019.shp</code>.</p></li>
<li><p>Make sure this dataset is loaded into your <strong>Layers</strong> / Added to the map.</p></li>
<li><p>Remove the original Borough and population data layers.</p></li>
</ul>
<p>Once this is done, we are ready to load and map our crime data. We will load this data using the <strong>Delimited Text File Layer</strong> option you would have used just now to load the Borough population - but this time, we will be adding point coordinates to map our crime data as points.</p>
<ol style="list-style-type: decimal">
<li><p>Click on <strong>Layer</strong> -&gt; <strong>Add Layer</strong> -&gt; <strong>Add Delimited Text File Layer</strong>.</p></li>
<li><p>With <strong>File</strong> select as your source type, click on the small three dots button and navigate to your <code>crime_theft_2020.csv</code> in your <code>raw/crime</code> folder. Click on the <code>.csv</code> file of this dataset and click <strong>Open</strong>. In <strong>Record and Fields Options</strong> tick <code>Decimal separator is comma</code>, <code>First record has field names</code>, <code>Detect field types</code> and <code>Discard empty fields</code>. Under <strong>Geometry Definition</strong>, select <code>Point coordinates</code> and set the <strong>X field</strong> to <code>Longitude</code> and the <strong>Y field</strong> to <code>Latitude</code>. The <strong>Geometry CRS</strong> should be: <code>EPSG:4326 - WGS84</code>. Click <strong>Add</strong>.</p></li>
</ol>
<div class="note">
<p><strong>Note</strong><br/>
You may be wondering whether we are not using the incorrect CRS for our data. As you click <strong>Add</strong>, you should have gotten a a pop-up from QGIS asking about transformations - they are the mathematical algorithms that convert data from one CRS to another. And this is exactly what QGIS is trying to do. QGIS knows that the <strong>Project CRS</strong> is <strong>BNG</strong> but the <strong>Layer</strong> you are trying to add has a <strong>WGS84</strong> CRS. QGIS is asking you what transformation it should use to project the Layer in the Project CRS. This is because one key strength of QGIS is that it can project data <strong>“on the fly”</strong>. What this means is that QGIS will automatically convert all Layers to the Project CRS once it knows which transformation you would like to use so that they will all be rendered in the correct position with respect to each other. However, you must note that this transformation is only <strong>temporary in nature</strong> and as a result, it is not a full <strong>reprojection</strong> of our data. More details on this can be found in QGIS’ <a href="https://docs.qgis.org/3.22/en/docs/user_manual/working_with_projections/working_with_projections.html">user manual section on working with projections</a>.</p>
</div>
<ol start="3" style="list-style-type: decimal">
<li>For now, let us use the on-the-fly projection and accept QGIS’ default value by clicking <strong>OK</strong>. This transformation should be built-in to your QGIS transformation library, whereas some of the more accurate options would need installation.</li>
</ol>
<p>You should now see your crime dataset displayed on the map.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:03-borough-crime"></span>
<img src="images/w03/crime_unproj.png" alt="Borough map with crime data." width="90%" />
<p class="caption">
Figure 3.1: Borough map with crime data.
</p>
</div>
<p>We can test the ‘temporary’ nature of the projection by looking at the CRS of the <code>crime_theft_2020</code> layer:</p>
<ol start="4" style="list-style-type: decimal">
<li>Right-click on the <code>crime_theft_2020</code> layer then select <strong>Properties</strong> -&gt; <strong>Information</strong> and then look at the associated CRS. You should see that the CRS of the layer is still <code>WGS84</code>.</li>
</ol>
<p>We want to make sure our analysis is as accurate and efficient as possible, so it is best to reproject our data into the <strong>same CRS</strong> as our administrative datasets, i.e. British National Grid. This also means we will have the dataset to use in other projects, just in case.</p>
<ol start="5" style="list-style-type: decimal">
<li>Back in the main QGIS window, click on <strong>Vector</strong> -&gt; <strong>Data Management Tools</strong> -&gt; <strong>Reproject Layer</strong>. Fill in the parameters as follows:
<ul>
<li><strong>Input Layer:</strong> <code>crime_theft_2020</code></li>
<li><strong>Target CRS:</strong> <code>Project CRS: EPSG: 27700</code></li>
<li><strong>Reprojected:</strong> Click on the three buttons and <strong>Save to File</strong> to create a new data file.</li>
<li><strong>Save</strong> it in your <code>output</code> folder as <code>crime_theft_2020_BNG.shp</code></li>
<li>Click <strong>Run</strong> and then close the tool box.</li>
</ul></li>
</ol>
<p>You should now see the new data layer added to your Layers.</p>
<div class="note">
<p><strong>Note</strong> <br />
QGIS can at times be a little bit buggy so when it creates new data layers in your Layers box, it often automates the name, hence you might see your layer added as <code>Reprojected</code>. It does this with other management and analysis tools as well, so something to be aware of.</p>
</div>
<p>Before moving on, let us do some housekeeping.</p>
<ol start="6" style="list-style-type: decimal">
<li><p>Remove the original <code>crime_theft_2020</code> dataset, only keeping the reprojected version.</p></li>
<li><p>Rename the <code>Reprojected</code> dataset to <code>crime_theft_2020</code>.</p></li>
</ol>
<p>Now we have an organised Layers and project, we are ready to start our crime analysis.</p>
</div>
<div id="counting-points-in-polygons" class="section level4 hasAnchor" number="3.2.3.3">
<h4><span class="header-section-number">3.2.3.3</span> Counting points-in-polygons<a href="cartography-and-visualisation.html#counting-points-in-polygons" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The next step of our analysis is incredibly simple - as QGIS has an in-built tool for us to use. We will use the <code>Count Points in Polygons</code> in the <code>Analysis</code> toolset for <code>Vector</code> data to count how many crimes have occured in both our <strong>Wards</strong> and our <strong>Boroughs</strong>. We will then have our count statistic which we will need to normalise by our population data to create our <strong>crime rate</strong> final statistic.</p>
<p>Let’s get going and first start with calculating the crime rate for the Borough scale:</p>
<ol style="list-style-type: decimal">
<li><p>Click on <strong>Vector</strong> -&gt; <strong>Analysis Tools</strong> -&gt; <strong>Count Points in Polygons</strong>.</p></li>
<li><p>Within the toolbox, select the parameters as follows:</p>
<ul>
<li><strong>Polygons:</strong> <code>borough_population_2019</code></li>
<li><strong>Points:</strong> <code>crime_theft_2020</code> <em>(Note how both our data layers state the same CRS!)</em></li>
<li>No weight field or class field</li>
<li><strong>Count field names:</strong> <code>crimecount</code></li>
<li>Click on the three dot button and <strong>Save to file:</strong> <code>output</code> -&gt; <code>borough_crime_2020.shp</code></li>
</ul></li>
<li><p>Click <strong>Run</strong> and <strong>Close</strong> the box. You should now see a <code>Count</code> layer added to your Layers box.</p></li>
<li><p>Click the checkbox next to <code>crime_theft_2020</code> to hide the crime points layer for now.</p></li>
<li><p>Right-click on the <code>borough_crime_2020</code> layer and open the <strong>Attribute Table</strong>. You should now see a <code>crimecount</code> column next to your <code>pop2019</code> column. You can look through the column to see the different levels of crime in the each Borough. You can also sort the column, from small to big, big to small, like you would do in a spreadsheet software.</p></li>
</ol>
<p>Whilst it is great that we have ve got our <code>crimecount</code>, as we know, what we actually need is a <strong>crime rate</strong> to account for the different population sizes accross the Boroughs. To get our <strong>crime rate</strong> statistic, we are going to do our first bit of table manipulation in QGIS.</p>
<ol start="6" style="list-style-type: decimal">
<li>With the <strong>Attribute Table</strong> of your <code>Count</code> layer still open, click on the <strong>pencil</strong> icon at the top left corner. This pencil switches on the <strong>Editing</strong> mode.</li>
</ol>
<p>The Editing mode allows you to edit both the <strong>Attribute Table</strong> values and the <strong>geometry</strong> of your data. When it comes to the <strong>Attribute Table</strong>, it means you can directly edit existing values in the table <strong>or</strong> create and add new fields to the table. Whilst you can actually do the latter outside of the Editing mode, this Editing mode means you can reverse any edits you make and they are not permanent just in case you make a mistake.
Using the Editing mode is the safest approach to editing your table, however, it might not always be the approach you use when generating new fields.</p>
<p>Let us go ahead and add a new field to contain our <strong>Crime Rate</strong>.</p>
<ol start="7" style="list-style-type: decimal">
<li>Whilst in the Editing mode, click on <strong>New Field</strong> button (or Ctrl+W/CMD+W) and fill in the <strong>Field Parameters</strong> as follows:
<ul>
<li><strong>Name:</strong> <code>crime_rate</code></li>
<li><strong>Comment:</strong> <em>leave blank</em></li>
<li><strong>Type:</strong> Decimal number</li>
<li><strong>Length:</strong> 10</li>
<li><strong>Precision:</strong> 0</li>
</ul></li>
<li>Click <strong>OK</strong>,</li>
</ol>
<p>You should now see a new field added to our <strong>Attribute Table</strong>.</p>
<div class="note">
<p><strong>Note</strong> <br/>
Understanding how to add new fields and their parameters rely on you understanding the different data types we covered last week - and thinking through what sort of data type your field needs to contain. In our case, we will store our data as a decimal to enable our final calculation to produce a decimal (an integer/integer is likely to produce a decimal) but we will set the precision to <strong>0</strong> to have zero places after our decimal place when the data is used. That is because ultimately, we want our crime rate represented as an integer because, realistically, you cannot have half a crime. Calculating a decimal however will allow us to round-up within our calculations.</p>
</div>
<p>The empty field has <em>NULL</em> populated for each row - so we need to find a way to give our Boroughs some crime rate data. To do this, we will calculate a simple <strong>Crime Rate</strong> using the <strong>Field Calculator</strong> tool provided by QGIS within the <strong>Attribute Table</strong>. We will create a crime rate that details the number of crimes per 10,000 people in the Borough. In most cases, a crime rate per person will create a decimal result less than 1 which not only will not be stored correctly by our <code>crime_rate</code> field but, for many people, a <strong>decimal</strong> value is hard to interpret and understand.</p>
<ol start="9" style="list-style-type: decimal">
<li><p>Whilst still in the Editing mode, click on the <strong>Abacus</strong> button (Ctrl + I / Cmd + I), which is known as the <strong>Field Calculator</strong>. A new pop-up should load up.</p></li>
<li><p>In the Field Calculator pop-up:</p>
<ul>
<li>Check the <strong>Update existing field</strong> box.</li>
<li>Use the drop-down to select the <code>crime_rate</code>field.</li>
<li>In the Expression editor, add the following expression: <strong>( “crimecount” / “pop2019” ) * 10000</strong></li>
<li>You can type this in manually or use the <code>Fields and Values</code> selector in the box in the middle to add the fields into the editor.</li>
<li>Once done, click <strong>OK</strong>.</li>
</ul></li>
</ol>
<p>You should then return to the <strong>Attribute Table</strong> and see our newly populated <code>crime_rate</code> field - at the moment, we can see the resulting calculations stored as decimals.</p>
<ol start="11" style="list-style-type: decimal">
<li>Click on the <strong>Save</strong> button to save these edits. Click again on the <strong>Pencil</strong> button to exit Editing mode - you should see the numbers turn to integers.</li>
</ol>
<div class="note">
<p><strong>Note</strong> <br />
On some computers and installations the numbers do not get changed to an <code>integer</code>, but remain a <code>double</code>. If this happens, create a new field directly in the Field Calculator. instead of ticking the <strong>Update existing field</strong> box you keep the <strong>Create a new field</strong> box ticked. Name the new field <code>crime_rate_int</code>, make sure the <strong>Output field type</strong> is set to <code>Whole number (integer)</code>, and use the same expression as above to get the crime rate in a new column.</p>
</div>
<ol start="12" style="list-style-type: decimal">
<li><p>Rename your Borough crime rate layer to <code>Borough Crime Rate</code>.</p></li>
<li><p>Great! We now have our Borough crime rate dataset ready for mapping and analysis - we just now need to repeat this process to have our Ward dataset. So: repeat the above processes to create a <code>crime_rate</code> column within our Ward dataset ready for mapping and analysis.</p></li>
</ol>
</div>
<div id="mapping-our-crime-data" class="section level4 hasAnchor" number="3.2.3.4">
<h4><span class="header-section-number">3.2.3.4</span> Mapping our crime data<a href="cartography-and-visualisation.html#mapping-our-crime-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Now you have both datasets ready, it is time to style the maps. Remember to use the <strong>Properties</strong> box to first symbolise your maps. Think through using the appropriate colour scheme - and perhaps <a href="https://colorbrewer2.org/#type=sequential&amp;scheme=BuGn&amp;n=3">have a look online for some examples</a> if you do not want to use the defaults. Once you are happy with their symbolisation, we will turn them into proper publishable maps using QGIS’s <strong>Print Layout</strong>. If you have ever used ArcMap, this is similar to switch the view of your map canvas to a print layout within the main window - but in QGIS’s case, it loads up a new window.</p>
<ol style="list-style-type: decimal">
<li>From the main QGIS window, click on <strong>Project</strong> -&gt; <strong>New Print Layout</strong>. In the small box that first appears, call your new print layout: <code>crime_map_borough_ward</code>.</li>
</ol>
<p>A new window should appear.</p>
<p>Initially, when opening the print layout provides you with a blank canvas that represents the paper surface when using the print option.</p>
<p>On the <strong>left-hand</strong> side of the window, you will find buttons beside the canvas to add print layout items: the current QGIS map canvas, text labels, images, legends, scale bars, basic shapes, arrows, attribute tables and HTML frames. In this toolbar you also find buttons to navigate, zoom in on an area and pan the view on the layout a well as buttons to select any layout item and to move the contents of the map item.</p>
<p>On the <strong>right-hand</strong> side of the window, you will find two set of panels. The upper one holds the panels Items and Undo History and the lower holds the panels Layout, Item properties and Atlas generation. For our practical today, we’re most interested in the bottom panel as <strong>Layout</strong> will control the overall look of our map, whilst <strong>Item properties</strong> will allow us to customise the elements, such as Title or Legend, that we may add to our map.</p>
<p>In the <strong>bottom part</strong> of the window, you can find a status bar with mouse position, current page number, a combo box to set the zoom level and the number of selected items if applicable.</p>
<p>In the <strong>upper part</strong> of the window, you can find menus and other toolbars. All print layout tools are available in menus and as icons in a toolbar.</p>
<div class="note">
<p><strong>Note</strong> <br/>
Working with maps in the Print Layout is simple but it can be a little fiddly and, to make more complicated maps, requires you to understand how to use certain aspects of Print Layout, such as locking items. If you get stuck, have a look at the <a href="https://docs.qgis.org/3.22/en/docs/training_manual/map_composer/map_composer.html">training manual</a> or the detailed <a href="https://docs.qgis.org/3.22/en/docs/user_manual/print_composer/index.html">documentation</a>.</p>
</div>
<p>To start with creating a map, you use the <strong>Add Map</strong> tool to draw a box in which a snapshot of the <strong>current active</strong> map you have displayed in your QGIS main window will be loaded.</p>
<ol style="list-style-type: decimal">
<li>Click on the <strong>Add Map</strong> tool and draw a box in the first half of our map to load our current map. Note, you can move your map around and resize the box simply by clicking on it as you would in Word etc.</li>
</ol>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:03-map-print-layout"></span>
<img src="images/w03/map_layout.png" alt="Current active map in the **Print Layout**." width="90%" />
<p class="caption">
Figure 3.2: Current active map in the <strong>Print Layout</strong>.
</p>
</div>
<p>As you can see, the map currently does not look that great - we could really do with zooming in, as we do not need all of the white space.</p>
<ol start="2" style="list-style-type: decimal">
<li>With your map selected, head to the <strong>Items Properties</strong> panel and look for the <strong>Scale</strong> parameter.
<ul>
<li>Here we can manually edit the <strong>scale</strong> of our map to find the right zoom level.</li>
<li>Have a go at entering different values and see what level you think suits the size of your map.</li>
<li>Keep a note of the scale, as we will need this for the second map we will add to our map layout - our Borough map.</li>
<li>Next, in the same panel, if you would like, you can add a frame to your map - this will draw a box (of your selected formatting) around the current map.</li>
<li>In the same panel, note down the size of your map - we want to make sure the next map we add is of the same size.</li>
<li>Note, if you need to move the position of the map within the box, look for the <strong>Move Item Content</strong> tool on the left-hand side toolbar.</li>
<li>Once you are done, finally click on the <strong>Lock Layers</strong> and <strong>Lock Style for layers.</strong></li>
</ul></li>
</ol>
<p>By locking the Layers (and their symbology) in our map, it means we can change our data/map in our main QGIS window without changing the map in the Print Layout - as we will see in a minute when adding our Borough crime rate map. If we do not lock our layers, our map would automatically update to whatever is next displayed in the main QGIS window.</p>
<p>Now we have added our first map to our Map Layout, we want to add a <strong>Legend</strong> for this specific map.</p>
<ol start="3" style="list-style-type: decimal">
<li>Click on the <strong>Add Legend</strong> tool and again, draw a box on your map in which your legend will appear.
<ul>
<li>As you will see, your Legend auto-generates an entry for every layer in our Layers box in the main QGIS application:
<img src="images/w03/autolegend.png" width="165" style="display: block; margin: auto;" /></li>
<li>In <strong>Item Properties</strong>, uncheck <strong>auto-update</strong> - this stops QGIS automatically populating your legend and enables you to customise your legend.</li>
<li>First, let us rename our Layer in the legend to: <strong>Ward Crime Rate (per 10,000 people)</strong>.</li>
<li>Next, we want to remove all other Layers, using the <strong>-</strong> button</li>
<li>We can also customise the Legend further, including type, size and alignment of font - go ahead and style your legend as you would prefer.</li>
<li>Move the Legend to an appropriate part of the layout near your Ward crime rate map - resize if necessary.</li>
</ul></li>
</ol>
<p>Now we are finished with the Ward map, we want to make sure we do not change any aspect of its layout. To do so, we need to lock both the Map and Legend in the <strong>Items</strong> panel - this prevents us accidentally moving items in our layout. Note, this is different to locking your layers in the <strong>Items Properties</strong> as we did earlier.</p>
<ol start="4" style="list-style-type: decimal">
<li>In the <strong>Items</strong> panel, click the <strong>Lock</strong> check box for both our map and legend.</li>
</ol>
<p>Once locked, we can now start to add our Borough map.</p>
<ol start="5" style="list-style-type: decimal">
<li>In the main QGIS window, uncheck your <code>Ward Crime Rate</code> layer and make sure your <code>Borough Crime Rate</code> layer is now visible.</li>
</ol>
<p>Return to the <strong>Print Layout</strong> window.</p>
<ol start="6" style="list-style-type: decimal">
<li>Repeat the process above of adding a map to the window - this time, you should now see your Borough map loaded in the box (and you should see <strong>no</strong> changes to your Ward map).
<ul>
<li>Place your Borough map next to your Ward map - use the snap grids to help.</li>
<li>Set your <strong>Borough</strong> map to the <strong>same zoom level</strong> as your <strong>Ward</strong> map.</li>
<li>Make sure your <strong>Borough map</strong> is the <strong>same size</strong> as your <strong>Ward</strong> map.</li>
<li>Set your Borough map to the <strong>same extent</strong> as your <strong>Ward</strong> map (extra neatness!).</li>
<li>Add a frame if you want.</li>
<li>Lock your layer and its symbology in the <strong>Items Properties</strong> once ready and the lock your layer in the <strong>Items</strong> panel.</li>
</ul></li>
</ol>
<p>We now just need to add a second legend for our Borough map. If we had standardised our values across our two maps, then we would only need to use one legend. However, in this case, as there is a difference in the values, we need to have two legends.</p>
<ol start="7" style="list-style-type: decimal">
<li>Repeat the process as above to add a Legend for our Borough map.
<ul>
<li>Remember to re-title the Legend to make it more legible/informative.</li>
<li>Match the same formatting for a clean look.</li>
</ul></li>
<li>Once complete, <strong>lock these two items</strong> in the <strong>Items</strong> panel as well.</li>
</ol>
<p>Now we have our two maps ready, we can add our <strong>main map elements</strong>:</p>
<ul>
<li><strong>Title</strong></li>
<li><strong>Orientation</strong></li>
<li><strong>Data Source</strong></li>
</ul>
<p>We will not at this time add anything else - an inset map could be nice, but this requires additional data that we do not have at the moment. Any other map elements would also probably make our design look too busy.</p>
<ol start="9" style="list-style-type: decimal">
<li>Using the tools on the left-hand tool bar:
<ul>
<li>Add a <strong>scale bar</strong>: use the <strong>Item Properties</strong> to adjust the <strong>Style</strong>, <strong>number of segments</strong>, <strong>font</strong>, etc.</li>
<li>Add a <strong>north arrow</strong>: draw a box to generate the arrow and then use the <strong>Item Properties</strong> to adjust..</li>
<li>Add a <strong>title</strong> at the top of the page, and subtitles above the individual maps.</li>
<li>Finally add a box detailing our data sources, you can copy and paste the following:
<code>Contains National Statistics data © Crown copyright and database right [2015] (Open Government Licence). Contains Ordnance Survey data © Crown copyright and database right [2015]. Crime data obtained from data.police.uk (Open Government Licence).</code></li>
</ul></li>
</ol>
<p>Once you have added these properties in, you should have something that looks a little like this:</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:03-finale-map"></span>
<img src="images/w03/london_crime_rate.png" alt="Crime rates in London boroughs and Wards. Note that the numbers in the legend may differ from the numbers in your own legend." width="1754" />
<p class="caption">
Figure 3.3: Crime rates in London boroughs and Wards. Note that the numbers in the legend may differ from the numbers in your own legend.
</p>
</div>
<p>The only thing outstanding is to export our map to a file. Go to <strong>Layout</strong> -&gt; <strong>Export as Image</strong> and then save it in your maps folder as <code>London_2020_Crime-Rate.png</code>.</p>
</div>
</div>
</div>
<div id="assignment-w03" class="section level2 hasAnchor" number="3.3">
<h2><span class="header-section-number">3.3</span> Assignment<a href="cartography-and-visualisation.html#assignment-w03" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Looking at the maps you have created, how does your perception of crime (and its distribution) in London vary at different scales?</li>
</ol>
<p>At the moment, we have looked at the crime rate as an amount, therefore we use a sequential colour scheme that shows, predominantly, where the crime rate is the highest. As an alternative, we could use a diverging colour scheme that could show us where the crime rate is lower and/or higher than a critical mid-point, such as the average crime rate across the Wards or Borough.</p>
<ol start="2" style="list-style-type: decimal">
<li>Create a map of crime in London, at both the Borough and Ward level, that shows for each administrative geography the percentage difference from the overall mean crime rate.</li>
</ol>
<div class="tip">
<p><strong>Tips</strong> <br/></p>
<ul>
<li>You will need to start by calculating the average crime rate for both datasets and subsequently calculate the difference from these values for each geography.</li>
<li>All calculations can be done using the field calculator in QGIS, but will require some thinking about the right expression.</li>
</ul>
</div>
</div>
<div id="byl-w03" class="section level2 hasAnchor" number="3.4">
<h2><span class="header-section-number">3.4</span> Before you leave<a href="cartography-and-visualisation.html#byl-w03" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://www.youtube.com/watch?v=3wxyN3z9PL4">That is us all done</a>. Remember to save your project and export your Ward and Borough shapefiles to your <code>output</code> folder!</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="giscience-and-gis-software.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="programming-for-data-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/jtvandijk/GEOG0030/edit/master/03-cartography.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["GEOG0030.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
